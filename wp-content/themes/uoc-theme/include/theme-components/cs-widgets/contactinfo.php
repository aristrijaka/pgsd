<?php/** * @ Contact info widget Class * * */class contactinfo extends WP_Widget {    /**     * Outputs the content of the widget     *     * @param array $args     * @param array $instance     */    /**     * @init Contact Info Module     *     *     */   public function __construct() {				parent::__construct(			'contactinfo', // Base ID			__( 'CS : Contact info','uoc' ), // Name			array( 'classname' => 'widget_text', 'description' => 'Footer Contact Information.', ) // Args		);	}    /**     * @Contact Info html form     *     *     */    function form($instance) {        $instance  = wp_parse_args((array) $instance);        $title     = isset($instance['title']) ? esc_attr($instance['title']) : '';        $address   = isset($instance['address']) ? esc_attr($instance['address']) : '';        $phone     = isset($instance['phone']) ? esc_attr($instance['phone']) : '';        $fax       = isset($instance['fax']) ? esc_attr($instance['fax']) : '';        $email     = isset($instance['email']) ? esc_attr($instance['email']) : '';        $randomID  = rand(40, 9999999);        ?>            <div style="margin-top:0px; float:left; width:100%;">            <p>                <label for="<?php echo cs_allow_special_char($this->get_field_id('title')); ?>"> <span>Title: </span>                    <input class="upcoming" id="<?php echo cs_allow_special_char($this->get_field_id('title')); ?>" size="40" name="<?php echo cs_allow_special_char($this->get_field_name('title')); ?>" type="text" value="<?php echo esc_attr($title); ?>" />                </label>            </p>                    </div>        <p style="margin-top:0px; float:left;">            <label for="<?php echo cs_allow_special_char($this->get_field_id('address')); ?>"> Address:<br />                <textarea cols="20" rows="5" id="<?php echo cs_allow_special_char($this->get_field_id('address')); ?>" name="<?php echo cs_allow_special_char($this->get_field_name('address')); ?>" style="width:315px"><?php echo esc_attr($address); ?></textarea>            </label>        </p>        <p style="margin-top:0px; float:left;">            <label for="<?php echo cs_allow_special_char($this->get_field_id('phone')); ?>"> Phone #:<br />                <input class="upcoming" id="<?php echo cs_allow_special_char($this->get_field_id('phone')); ?>" size="40"                       name="<?php echo cs_allow_special_char($this->get_field_name('phone')); ?>" type="text" value="<?php echo esc_attr($phone); ?>" />            </label>        </p>        <p style="margin-top:0px; float:left;">            <label for="<?php echo cs_allow_special_char($this->get_field_id('fax')); ?>"> Fax #:<br />                <input class="upcoming" id="<?php echo cs_allow_special_char($this->get_field_id('fax')); ?>" size="40"                        name="<?php echo cs_allow_special_char($this->get_field_name('fax')); ?>" type="text" value="<?php echo esc_attr($fax); ?>" />            </label>        </p>        <p style="margin-top:0px; float:left;">            <label for="<?php echo cs_allow_special_char($this->get_field_id('email')); ?>"> Email<br />                <input class="upcoming" id="<?php echo cs_allow_special_char($this->get_field_id('email')); ?>" size="40"                        name="<?php echo cs_allow_special_char($this->get_field_name('email')); ?>" type="text" value="<?php echo esc_attr($email); ?>" />            </label>        </p>        <?php    }    /**     * @Update Info html form     *     *     */    function update($new_instance, $old_instance) {        $instance = $old_instance;        $instance['title'] = $new_instance['title'];        $instance['address'] = $new_instance['address'];        $instance['phone'] = $new_instance['phone'];        $instance['fax'] = $new_instance['fax'];        $instance['email'] = $new_instance['email'];        return $instance;    }    /**     * @Widget Info html form     *     *     */    function widget($args, $instance) {        global $cs_node;        extract($args, EXTR_SKIP);        $title = empty($instance['title']) ? '' : apply_filters('widget_title', $instance['title']);        $title = htmlspecialchars_decode(stripslashes($title));        $address = empty($instance['address']) ? '' : apply_filters('widget_title', $instance['address']);        $phone = empty($instance['phone']) ? '' : apply_filters('widget_title', $instance['phone']);        $fax = empty($instance['fax']) ? '' : apply_filters('widget_title', $instance['fax']);        $email = empty($instance['email']) ? '' : apply_filters('widget_title', $instance['email']);        echo cs_allow_special_char($before_widget);        if (!empty($title) && $title <> ' ') {           			echo ''.cs_allow_special_char($before_title) . $title . $after_title.' ';        }        echo '<ul>';        if (isset($address) and $address <> '') {            			echo ' <li><i class="icon-map-marker"></i> <p>' . do_shortcode(htmlspecialchars_decode($address)) . '</p></li>';        }        if (isset($phone) and $phone <> '') {          			echo '<li><i class="icon-phone6"></i> <p><span>Telephone</span>'. htmlspecialchars_decode($phone). '</p></li>';        }        if (isset($fax) and $fax <> '') {          			echo ' <li><i class="icon-dribbble6"></i> <p><span>International</span> ' . htmlspecialchars_decode($fax) . '</p></li>';        }        if (isset($email) and $email <> '') {             echo '<li><i class="icon-envelope4"></i> 		  			<p>						<span>email</span> 		  				<a href="mailto:' . htmlspecialchars_decode($email) . '">' . htmlspecialchars_decode($email) . '</a>					</p>				 </li>';		        }                echo '</ul>';				        echo cs_allow_special_char($after_widget);    }}add_action('widgets_init', create_function('', 'return register_widget("contactinfo");'));?>